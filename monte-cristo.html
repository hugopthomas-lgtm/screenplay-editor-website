<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Le Comte de Monte-Cristo â€” Layout</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(180deg, #f8f6f1 0%, #ebe7df 100%);
      font-family: system-ui, -apple-system, sans-serif;
      padding: 40px 20px;
    }

    .header {
      max-width: 900px;
      margin: 0 auto 40px;
      text-align: center;
    }

    h1 {
      font-family: Georgia, serif;
      font-size: 32px;
      font-weight: 400;
      color: #1a1a1a;
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }

    .subtitle {
      color: #666;
      font-size: 14px;
      margin-bottom: 16px;
    }

    .hint {
      color: #888;
      font-size: 12px;
      margin-bottom: 8px;
    }

    .double-hint {
      color: #e74c3c;
      font-size: 12px;
      margin-bottom: 24px;
      font-weight: 600;
    }

    .legend {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 32px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
    }

    .legend-color {
      width: 18px;
      height: 18px;
      border-radius: 3px;
    }

    .legend-label {
      color: #555;
    }

    .spreads-container {
      max-width: 480px;
      margin: 0 auto;
      padding-left: 60px;
    }

    .spread {
      display: flex;
      align-items: flex-start;
      margin-bottom: 24px;
      position: relative;
    }

    .spread-number {
      position: absolute;
      left: -48px;
      top: 50%;
      transform: translateY(-50%);
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #2a2a2a;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      font-family: Georgia, serif;
    }

    .spread-number.double {
      background: #e74c3c;
    }

    .book {
      display: flex;
      box-shadow: 0 4px 20px rgba(0,0,0,0.12);
      border-radius: 6px;
      align-items: stretch;
    }

    .spine {
      width: 4px;
      background: linear-gradient(90deg, #d4d0c8 0%, #a89f8f 50%, #d4d0c8 100%);
      box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
      flex-shrink: 0;
    }

    .page {
      width: 200px;
      min-height: 280px;
      padding: 12px;
      display: flex;
      flex-direction: column;
      position: relative;
      box-shadow: inset 0 0 30px rgba(0,0,0,0.08);
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .page.left {
      border-radius: 6px 0 0 6px;
    }

    .page.right {
      border-radius: 0 6px 6px 0;
    }

    .page.expanded {
      width: 320px;
      min-height: auto;
    }

    .page.double-page {
      border: 3px solid #e74c3c;
    }

    .page.empty {
      background: #fafafa;
      border: 1px dashed #ddd;
      justify-content: center;
      align-items: center;
      color: #ccc;
      font-size: 12px;
      font-style: italic;
      cursor: default;
    }

    .page-num {
      position: absolute;
      top: 8px;
      font-size: 11px;
      opacity: 0.7;
      font-family: Georgia, serif;
      font-weight: 600;
    }

    .page.left .page-num { left: 12px; }
    .page.right .page-num { right: 12px; }

    .page-type {
      position: absolute;
      top: 8px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 8px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      padding: 2px 8px;
      border-radius: 10px;
      background: rgba(0,0,0,0.12);
      font-weight: 600;
      white-space: nowrap;
    }

    .double-badge {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 8px;
      padding: 2px 8px;
      border-radius: 10px;
      background: #e74c3c;
      color: #fff;
      font-weight: 600;
    }

    .page-desc {
      margin-top: 28px;
      padding: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
      font-size: 10px;
      font-style: italic;
      text-align: center;
      opacity: 0.8;
      margin-bottom: 8px;
    }

    .page-text {
      flex: 1;
      font-size: 9px;
      line-height: 1.5;
      overflow: hidden;
      font-family: Georgia, serif;
      white-space: pre-wrap;
      padding: 4px;
    }

    .page.expanded .page-text {
      font-size: 11px;
      overflow: visible;
    }

    .page-text.no-text {
      text-align: center;
      opacity: 0.4;
    }

    .expand-hint {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 8px;
      opacity: 0.6;
      background: rgba(0,0,0,0.1);
      padding: 2px 6px;
      border-radius: 8px;
    }

    .page.double-page .expand-hint {
      bottom: 28px;
    }

    .stats {
      max-width: 600px;
      margin: 40px auto 0;
      padding: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }

    .stats h3 {
      font-family: Georgia, serif;
      font-size: 16px;
      margin-bottom: 16px;
      color: #1a1a1a;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
    }

    .stat-item {
      padding: 10px;
      background: #f8f6f1;
      border-radius: 8px;
      text-align: center;
    }

    .stat-value {
      font-size: 20px;
      font-weight: 600;
      color: #1a1a1a;
      font-family: Georgia, serif;
    }

    .stat-label {
      font-size: 9px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      margin-top: 2px;
    }

    /* Types de pages */
    .type-TITRE { background: #ffffff; color: #1a1a1a; border: 2px solid #1a1a1a; }
    .type-IMG-PLEINE { background: linear-gradient(135deg, #4a90a4 0%, #2d5a6b 100%); color: #ffffff; }
    .type-IMG-PLEINE-SOMBRE { background: linear-gradient(135deg, #2a3a4a 0%, #1a2530 100%); color: #ffffff; }
    .type-IMG-PLEINE-ROUGE { background: linear-gradient(135deg, #8b3a3a 0%, #5c2020 100%); color: #ffffff; }
    .type-IMG-SANS-TEXTE { background: linear-gradient(135deg, #6b8f71 0%, #3d5a42 100%); color: #ffffff; }
    .type-GRIS-ILLUS { background: #d4cfc4; color: #2a2a2a; }
    .type-GRIS-DOODLE { background: #e8e4dc; color: #2a2a2a; }
    .type-GRIS-TEXTE { background: #f0ece4; color: #2a2a2a; }
    .type-NOIR-TEXTE { background: #0f1419; color: #f5f5f0; }
    .type-SKETCH { background: #f8f8f6; color: #1a1a1a; border: 2px dashed #888; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Le Comte de Monte-Cristo</h1>
    <p class="subtitle">Plan de layout complet Â· 48 pages Â· 25 spreads</p>
    <p class="hint">Cliquer sur une page pour voir le texte complet</p>
    <p class="double-hint">ðŸ”´ = Double page (image continue sur les 2 pages)</p>

    <div class="legend">
      <div class="legend-item">
        <div class="legend-color" style="background:#ffffff;border:2px solid #1a1a1a"></div>
        <span class="legend-label">Titre</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:linear-gradient(135deg, #4a90a4 0%, #2d5a6b 100%)"></div>
        <span class="legend-label">Image + Texte</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:linear-gradient(135deg, #6b8f71 0%, #3d5a42 100%)"></div>
        <span class="legend-label">Image seule</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:#d4cfc4"></div>
        <span class="legend-label">Gris + Illus</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:#e8e4dc"></div>
        <span class="legend-label">Gris + Doodle</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:#f0ece4"></div>
        <span class="legend-label">Gris + Texte</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:#0f1419"></div>
        <span class="legend-label">Noir + Texte</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background:#f8f8f6;border:2px dashed #888"></div>
        <span class="legend-label">Croquis</span>
      </div>
    </div>
  </div>

  <div class="spreads-container" id="spreads"></div>

  <div class="stats">
    <h3>RÃ©sumÃ© des types de pages</h3>
    <div class="stats-grid" id="stats"></div>
  </div>

  <script>
    const pageTypes = {
      'TITRE': 'Titre',
      'IMG-PLEINE': 'Image + Texte',
      'IMG-PLEINE-SOMBRE': 'Image sombre',
      'IMG-PLEINE-ROUGE': 'Image rouge',
      'IMG-SANS-TEXTE': 'Image seule',
      'GRIS-ILLUS': 'Gris + Illus',
      'GRIS-DOODLE': 'Gris + Doodle',
      'GRIS-TEXTE': 'Gris + Texte',
      'NOIR-TEXTE': 'Noir + Texte',
      'SKETCH': 'Croquis'
    };

    const pages = [
      { num: 1, type: 'TITRE', text: `LE COMTE DE MONTE-CRISTO\nD'aprÃ¨s Alexandre Dumas\n\nTexte et illustrations de Hugo Thomas\n\nÂ© 2026 Hugo Thomas / Pouvoir Magique Editions\nTous droits rÃ©servÃ©s`, desc: 'Page de titre' },
      { num: 2, type: 'IMG-PLEINE', text: `Voici Edmond DantÃ¨s ! C'est un jeune marin de dix-neuf ans. Son bateau vient de rentrer au port de Marseille.`, desc: 'Edmond court sur les quais, souriant' },
      { num: 3, type: 'GRIS-ILLUS', text: `Vite ! Edmond court sur les quais. Son cÅ“ur bat trÃ¨s fort. Il court pour retrouver MercÃ©dÃ¨s, son amoureuse. Quel bonheur ! Demain, ils vont se fiancer. Edmond sourit :\n\nRien ne pourra jamais nous sÃ©parer !`, desc: 'Edmond et MercÃ©dÃ¨s s\'enlacent, splash bleu' },
      { num: 4, type: 'GRIS-DOODLE', text: `Mais attention... Dans l'ombre, trois hommes observent Edmond avec des yeux mÃ©chants. Le premier est jaloux de son amour. Le deuxiÃ¨me est jaloux de son travail. Le troisiÃ¨me a peur de lui.\n\nChut... Ils complotent et s'apprÃªtent Ã  Ã©crire une lettre au Roi pour dire qu'Edmond est son ennemi. Mais c'est un mensonge ! Edmond ne sait rien. Il est innocent. Mais le piÃ¨ge est prÃªt.`, desc: '3 silhouettes noires au trait' },
      { num: 5, type: 'IMG-PLEINE', text: `Le lendemain, c'est la fÃªte des fianÃ§ailles d'Edmond et MercÃ©dÃ¨s ! Tout le monde rit, tout le monde danse. Soudain... Des soldats entrent en cassant la porte.`, desc: 'MercÃ©dÃ¨s au centre, soldats autour' },
      { num: 6, type: 'IMG-PLEINE', text: `Ils attrapent Edmond et l'arrÃªtent de force !\n\nMais qu'est-ce que j'ai fait ? Je n'ai rien fait !\n\nLes soldats prennent Edmond de force et l'emmÃ¨nent loin, trÃ¨s loin sur la mer, jusqu'Ã  une prison noire et effrayante : le ChÃ¢teau d'If.`, desc: 'Edmond entourÃ© de soldats, choquÃ©' },
      { num: 7, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'ChÃ¢teau d\'If, mer agitÃ©e, ciel dramatique orange/gris' },
      { num: 8, type: 'IMG-PLEINE-SOMBRE', text: `La lourde porte du cachot se referme sur Edmond. Il se retrouve tout seul, dans le noir.`, desc: 'Edmond en larmes derriÃ¨re barreaux verts' },
      { num: 9, type: 'IMG-PLEINE-SOMBRE', text: `Edmond est effondrÃ©. Il a froid, il mange de la mauvaise soupe et dort par terre. AprÃ¨s quelques temps, il commence mÃªme Ã  oublier le visage de son amoureuse.`, desc: 'Edmond recroquevillÃ© au sol' },
      { num: 10, type: 'IMG-PLEINE', text: `Quelques mois passent. Puis un an. Puis dix ans...`, desc: 'Prison enneigÃ©e, mer, barreaux' },
      { num: 11, type: 'IMG-PLEINE-SOMBRE', text: `Quatorze ans s'Ã©coulent. Edmond est toujours lÃ , dans le noir.`, desc: 'Edmond adulte avec barbe, mur sombre' },
      { num: 12, type: 'IMG-PLEINE-SOMBRE', text: `Un jour, il entend un bruit Ã©trange dans le mur. On dirait que quelqu'un creuse !\n\nIl attrape un morceau de mÃ©tal et creuse lui aussi. Une pierre tombe. Un vieil homme apparaÃ®t : l'AbbÃ© Faria, un autre prisonnier. Il voulait creuser vers la mer, mais il s'est trompÃ© de chemin.`, desc: 'Cellule sombre, lumiÃ¨re de fenÃªtre' },
      { num: 13, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Visage de Faria dans le trou du mur' },
      { num: 14, type: 'NOIR-TEXTE', text: `Edmond et Faria deviennent les meilleurs amis du monde. Chaque nuit, Edmond passe par le trou pour retrouver le vieil homme. Faria est trÃ¨s savant.\n\nIl apprend tout Ã  Edmond : les mathÃ©matiques, l'histoire, les langues. Ensemble, ils comprennent qui a Ã©crit la fausse lettre : Fernand, Danglars et Villefort !`, desc: 'Fond noir, doodles de souris' },
      { num: 15, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Faria et Edmond avec bougie, cadre vignette' },
      { num: 16, type: 'GRIS-DOODLE', text: `Mais Faria est vieux et fatiguÃ©. Juste avant de mourir, il murmure un secret Ã  l'oreille d'Edmond :\n\nÃ‰coute bien... Sur l'Ã®le de Monte-Cristo, il y a un trÃ©sor cachÃ©. Un trÃ©sor immense, oubliÃ© depuis des siÃ¨cles. Si tu sors d'ici, il sera pour toi.`, desc: 'Doodle coffre au trÃ©sor dans grotte' },
      { num: 17, type: 'IMG-PLEINE-SOMBRE', text: `Faria meurt dans les bras d'Edmond, qui pleure son ami. Mais il a une idÃ©e folle pour s'Ã©chapper ! Les gardiens vont jeter le corps du vieil homme Ã  la mer. Alors, Edmond sort le corps du sac... et il se cache Ã  l'intÃ©rieur !`, desc: 'Sac de toile, mur de prison' },
      { num: 18, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Gardiens jettent le sac de la falaise' },
      { num: 19, type: 'GRIS-DOODLE', text: `Les gardiens soulÃ¨vent le sac. Ils marchent jusqu'au bord de la falaise. Edmond retient son souffle. Un, deux, trois... Les gardiens lancent le sac dans le vide !\n\nL'eau glacÃ©e frappe Edmond. Il coule vers le fond !\nVite !`, desc: 'Doodle sac qui coule avec Ã©claboussures' },
      { num: 20, type: 'IMG-PLEINE-SOMBRE', text: `Il sort son couteau. Il dÃ©chire le sac. Il nage, il nage de toutes ses forces vers la surface.`, desc: 'Edmond nage sous l\'eau vers la lumiÃ¨re' },
      { num: 21, type: 'IMG-PLEINE-SOMBRE', text: `Edmond sort la tÃªte de l'eau. Il respire ! Au-dessus de lui, les Ã©toiles brillent. Il est enfin libre !`, desc: 'Edmond Ã©merge, ciel Ã©toilÃ©' },
      { num: 22, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Carte ancienne de l\'Ã®le Monte-Cristo' },
      { num: 23, type: 'IMG-PLEINE', text: `Au matin, des pÃªcheurs le trouvent. Personne ne le reconnaÃ®t avec sa barbe longue et Ã©paisse. Mais lui n'a pas oubliÃ© le secret de Faria. DÃ¨s qu'il le peut, il prend un bateau pour se rendre sur l'Ã®le de Monte-Cristo.`, desc: 'Edmond barbu Ã  la barre d\'un bateau' },
      { num: 24, type: 'IMG-PLEINE-SOMBRE', text: `Il entre dans une grotte et cherche partout. Il creuse, il creuse encore... Et s'il n'y avait pas de trÃ©sor ? Et si Faria s'Ã©tait trompÃ© ?\n\nSoudain, sa pelle tape dans du mÃ©tal. Edmond creuse plus vite. Il dÃ©gage la terre et dÃ©couvre un coffre !`, desc: 'Edmond avec torche dans grotte sombre' },
      { num: 25, type: 'IMG-PLEINE-SOMBRE', text: `Il ouvre le couvercle. Oh ! Ã‡a brille ! C'est plein d'or ! Des diamants, des rubis gros comme des Å“ufs, des colliers, des couronnes !`, desc: 'Edmond devant coffre ouvert, Ã©merveillÃ©' },
      { num: 26, type: 'IMG-PLEINE-SOMBRE', text: `Edmond reste lÃ , Ã  genoux, sans bouger. Il n'arrive pas Ã  y croire.`, desc: 'Nature morte du trÃ©sor (DOUBLE PAGE gauche)' },
      { num: 27, type: 'IMG-PLEINE-SOMBRE', text: `Il est devenu l'homme le plus riche du monde.`, desc: 'Nature morte du trÃ©sor (DOUBLE PAGE droite)' },
      { num: 28, type: 'IMG-PLEINE-ROUGE', text: `Maintenant qu'Edmond a de l'argent, il veut la vÃ©ritÃ©. Il engage des hommes pour enquÃªter sur ceux qui l'ont fait mettre en prison.\n\nSes hommes cherchent partout. Ils retrouvent des tÃ©moins. Ils fouillent des archives. Et petit Ã  petit, Edmond apprend tout. Chaque mensonge. Chaque secret. Chaque crime de ses ennemis.`, desc: 'Fond rouge, documents avec X rouges' },
      { num: 29, type: 'IMG-PLEINE', text: `Edmond s'achÃ¨te un titre de comte et des habits de prince. Il met un grand chapeau noir et une cape Ã©lÃ©gante. Il retourne en France avec un nouveau nom :\n\nLe Comte de Monte-Cristo.`, desc: 'Comte de dos, haut-de-forme, cape' },
      { num: 30, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Portrait profil du Comte, regard dur' },
      { num: 31, type: 'IMG-PLEINE', text: `Le Comte arrive Ã  Paris. Personne ne sait d'oÃ¹ il vient. Personne ne sait qui il est vraiment.`, desc: 'Paris avec Notre-Dame, calÃ¨che' },
      { num: 32, type: 'IMG-PLEINE-SOMBRE', text: `Il achÃ¨te la plus belle maison de la ville. Il organise des fÃªtes magnifiques. Tout le monde veut le rencontrer.`, desc: 'Manoir illuminÃ© la nuit, invitÃ©s' },
      { num: 33, type: 'IMG-PLEINE', text: `Les trois hommes qui ont dÃ©truit Edmond viennent chez lui. Villefort, devenu le juge le plus puissant de Paris. Fernand, devenu gÃ©nÃ©ral. Danglars, devenu banquier.\n\nIls serrent la main du Comte. Ils rient avec lui. Ils boivent son vin. Ils ne le reconnaissent pas.`, desc: 'Les 3 mÃ©chants en gros plan' },
      { num: 34, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Le Comte bras croisÃ©s, sourire mystÃ©rieux' },
      { num: 35, type: 'GRIS-ILLUS', text: `Le Comte les regarde en souriant. Eux ne voient qu'un homme charmant. Ils ne savent pas qu'il va les piÃ©ger.\n\nUn jour, le Comte invite Villefort Ã  dÃ®ner. Au dessert, il lui raconte l'histoire d'un jeune homme innocent, jetÃ© en prison Ã  cause d'un mensonge. Villefort devient tout blanc. Comment peut-il savoir tout cela ? Le comte sourit.\n\nJe sais tout, monsieur le juge.`, desc: 'Villefort effrayÃ©, splash vert' },
      { num: 36, type: 'GRIS-ILLUS', text: `Le lendemain, au tribunal, le Comte laisse entrer une Princesse. Elle pointe Fernand du doigt devant tout le monde :\n\nCet homme a trahi mon pÃ¨re et m'a vendue comme esclave !\n\nHumiliÃ©, Fernand court se cacher chez lui. Mais c'est trop tard : sa femme et son fils, dÃ©goÃ»tÃ©s, ont dÃ©jÃ  fait leurs valises.`, desc: 'Fernand horrifiÃ©, splash rouge' },
      { num: 37, type: 'GRIS-ILLUS', text: `Enfin, le Comte tend un piÃ¨ge Ã  Danglars. Il fait courir une fausse rumeur sur la bourse. Le banquier mise tout... et il perd tout. Quand il court ouvrir son grand coffre-fort pour vÃ©rifier ce qu'il lui reste, il pousse un cri terrible :\n\nVide ! Il est vide !\n\nLes trois mÃ©chants, qui riaient autrefois, ne rient plus du tout. Le Comte les regarde perdre tout ce qu'ils ont, un par un.`, desc: 'Danglars dÃ©sespÃ©rÃ©, splash jaune/or' },
      { num: 38, type: 'IMG-PLEINE', text: `Le comte regarde ses ennemis tomber, un Ã  un. Mais il lui reste une derniÃ¨re personne Ã  voir : MercÃ©dÃ¨s, son amoureuse. Quand elle le voit entrer, elle le reconnaÃ®t tout de suite.`, desc: 'Comte de dos dans rue de Paris' },
      { num: 39, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'MercÃ©dÃ¨s vieillie, cheveux gris, regard triste' },
      { num: 40, type: 'GRIS-DOODLE', text: `Elle s'approche pour le prendre dans ses bras, mais le Comte recule. Une larme coule sur sa joue. Pour punir les mÃ©chants, il a dÃ» devenir mÃ©chant lui aussi. Son cÅ“ur est devenu dur comme de la pierre. Il n'y a plus de place pour l'amour.\n\nIls se regardent une derniÃ¨re fois. Ils savent que c'est fini. Le gentil Edmond est restÃ© dans sa prison pour toujours. Le Comte tourne les talons et s'en va.`, desc: 'Doodle cÅ“ur en pierre' },
      { num: 41, type: 'IMG-PLEINE', text: `Le Comte a fini sa mission. Les mÃ©chants sont punis. Pourtant, il ne se sent pas plus joyeux. Il comprend que la vengeance ne peut pas rÃ©parer le passÃ©. Elle ne lui rendra pas ses annÃ©es perdues, ni son amour perdu.`, desc: 'Comte sur banc, feuilles d\'automne' },
      { num: 42, type: 'SKETCH', text: `â€”`, desc: 'FLASHBACK : jeune Edmond et MercÃ©dÃ¨s souriants' },
      { num: 43, type: 'IMG-PLEINE', text: `Alors, avant de partir, il fait une derniÃ¨re bonne action. Il offre son trÃ©sor Ã  un jeune ami courageux, qui a toute la vie devant lui. Il lui confie son secret :\n\nDans la vie, toute la sagesse est lÃ  : Attendre et EspÃ©rer.`, desc: 'Comte donne coffre Ã  un jeune garÃ§on' },
      { num: 44, type: 'IMG-SANS-TEXTE', text: `â€”`, desc: 'Navire sur mer (DOUBLE PAGE gauche)' },
      { num: 45, type: 'IMG-PLEINE', text: `Le cÅ“ur enfin apaisÃ©, le Comte monte sur son navire. Il dÃ©ploie les voiles blanches et s'Ã©loigne vers le large. BientÃ´t, il n'est plus qu'un petit point Ã  l'horizon.\n\nEdmond DantÃ¨s est enfin libre.`, desc: 'Coucher de soleil sur mer (DOUBLE PAGE droite)' },
      { num: 46, type: 'GRIS-TEXTE', text: `Ã€ propos de ce livre\n\nLe Comte de Monte-Cristo a Ã©tÃ© Ã©crit par Alexandre Dumas en 1844. C'est l'un des romans d'aventure les plus cÃ©lÃ¨bres au monde : plus de 1 000 pages, des trahisons, un trÃ©sor, une Ã©vasion impossible et une vengeance qui dure des annÃ©es. L'intrigue est d'ailleurs inspirÃ©e d'un fait divers rÃ©el : l'histoire de Pierre Picaud, un cordonnier faussement accusÃ© d'espionnage.\n\nDumas Ã©tait un personnage incroyable. Petit-fils d'une esclave et d'un marquis, il est devenu l'Ã©crivain le plus populaire de France. Il a Ã©crit plus de 300 Å“uvres, dÃ©pensÃ© des fortunes, construit un chÃ¢teau qu'il a appelÃ© "Monte-Cristo", et fait la fÃªte tous les soirs. Il dictait parfois plusieurs romans en mÃªme temps Ã  diffÃ©rents secrÃ©taires. On ne sait pas quand il dormait. Il est mort ruinÃ©.\n\nÃ€ l'Ã©poque, les romans paraissaient en feuilleton dans les journaux, un chapitre par semaine. Les gens attendaient la suite comme on attend aujourd'hui le prochain Ã©pisode d'une sÃ©rie.`, desc: 'Texte Ã€ propos' },
      { num: 47, type: 'GRIS-TEXTE', text: `Edmond DantÃ¨s n'a pas existÃ©, mais le ChÃ¢teau d'If, lui, est bien rÃ©el. C'est une forteresse sur une Ã®le au large de Marseille. On peut encore la visiter aujourd'hui. On y montre "la cellule d'Edmond DantÃ¨s" et le tunnel vers la cellule de Faria. Le roman est devenu plus rÃ©el que la rÃ©alitÃ© !\n\nSi un jour vous lisez le vrai Comte de Monte-Cristo (et on vous le souhaite !), vous retrouverez tout ce qui est dans ce livre, plus des dizaines d'autres personnages, des empoisonnements, des duels, et des rebondissements qu'on n'a pas eu la place de raconter. PrÃ©voyez du temps.\n\nEn attendant, n'oubliez pas : attendre et espÃ©rer.`, desc: 'Suite Ã€ propos' },
      { num: 48, type: 'GRIS-TEXTE', text: `Dans la mÃªme collection\n\nWalden ou La Vie dans les Bois\nd'aprÃ¨s Henry David Thoreau\n\nGuerre et Paix\nd'aprÃ¨s LÃ©on TolstoÃ¯\n\nâ€”\n\nPouvoir Magique Ã‰ditions\n\nTexte : Hugo Thomas Â· Illustrations : Hugo Thomas\nD'aprÃ¨s l'Å“uvre d'Alexandre Dumas, Le Comte de Monte-Cristo (1844).\nÂ© Pouvoir Magique Ã‰ditions, 2025.`, desc: 'Collection + mentions lÃ©gales' }
    ];

    const doublePageSpreads = [[26, 27], [44, 45]];

    function isDoubleSpread(leftNum, rightNum) {
      return doublePageSpreads.some(([l, r]) => l === leftNum && r === rightNum);
    }

    function createPage(page, position, isDouble) {
      const isNoText = page.text === 'â€”';
      const div = document.createElement('div');
      div.className = `page ${position} type-${page.type}${isDouble ? ' double-page' : ''}`;

      div.innerHTML = `
        <div class="page-num">${page.num}</div>
        <div class="page-type">${pageTypes[page.type]}</div>
        ${isDouble ? '<div class="double-badge">DOUBLE PAGE</div>' : ''}
        <div class="page-desc">${page.desc}</div>
        <div class="page-text${isNoText ? ' no-text' : ''}">${isNoText ? '(pas de texte)' : page.text}</div>
        ${!isNoText && page.text.length > 150 ? '<div class="expand-hint">Cliquer pour voir tout</div>' : ''}
      `;

      div.addEventListener('click', () => {
        div.classList.toggle('expanded');
      });

      return div;
    }

    function createEmptyPage(position) {
      const div = document.createElement('div');
      div.className = `page ${position} empty`;
      div.textContent = '(vide)';
      return div;
    }

    function createSpread(leftPage, rightPage, spreadNum, isDouble) {
      const spread = document.createElement('div');
      spread.className = 'spread';

      const numDiv = document.createElement('div');
      numDiv.className = `spread-number${isDouble ? ' double' : ''}`;
      numDiv.textContent = spreadNum;
      spread.appendChild(numDiv);

      const book = document.createElement('div');
      book.className = 'book';

      if (leftPage) {
        book.appendChild(createPage(leftPage, 'left', isDouble));
      } else {
        book.appendChild(createEmptyPage('left'));
      }

      const spine = document.createElement('div');
      spine.className = 'spine';
      book.appendChild(spine);

      if (rightPage) {
        book.appendChild(createPage(rightPage, 'right', isDouble));
      } else {
        book.appendChild(createEmptyPage('right'));
      }

      spread.appendChild(book);
      return spread;
    }

    // Build spreads
    const container = document.getElementById('spreads');

    // Spread 1: empty + page 1
    container.appendChild(createSpread(null, pages[0], 1, false));

    // Spreads 2-24: pages 2-3, 4-5, etc.
    for (let i = 1; i < pages.length - 1; i += 2) {
      const leftPage = pages[i];
      const rightPage = pages[i + 1];
      const isDouble = isDoubleSpread(leftPage.num, rightPage.num);
      container.appendChild(createSpread(leftPage, rightPage, Math.floor(i/2) + 2, isDouble));
    }

    // Spread final: page 48 + empty
    container.appendChild(createSpread(pages[pages.length - 1], null, 25, false));

    // Stats
    const typeCounts = {};
    pages.forEach(p => {
      const baseType = p.type.replace('-SOMBRE', '').replace('-ROUGE', '');
      typeCounts[baseType] = (typeCounts[baseType] || 0) + 1;
    });

    const statsGrid = document.getElementById('stats');
    Object.entries(typeCounts).forEach(([key, value]) => {
      const item = document.createElement('div');
      item.className = 'stat-item';
      item.innerHTML = `
        <div class="stat-value">${value}</div>
        <div class="stat-label">${key}</div>
      `;
      statsGrid.appendChild(item);
    });
  </script>
</body>
</html>
